"use strict";const Scrollen=function(){let t,s,e,i=null,o=null;const l={vTrackClass:"track-v",vHandleClass:"handle-v",hTrackClass:"track-h",hHandleClass:"handle-h",trim:3};let r;!function(t){t.v="v",t.h="h"}(r||(r={}));class n{constructor(t,s){this.align=t,this._state=s,this._dragging=!1,this.build(),this.updateDisplayState(),this.updateBoundingPos()}get track(){return this._track}get handle(){return this._handle}build(){this._track=document.createElement("div"),this._track.classList.add(e[this.align+"TrackClass"]),t.appendChild(this._track),this._handle=document.createElement("div"),this._handle.classList.add(e[this.align+"HandleClass"]),this._track.appendChild(this._handle),this._track.addEventListener("click",this.jump.bind(this)),this._handle.addEventListener("mousedown",this.startDrag.bind(this)),document.body.addEventListener("mousemove",this.drag.bind(this)),document.body.addEventListener("mouseup",this.endDrag.bind(this))}resize(){this.updateDisplayState();const s=this.offsetHeight(),i=this.scrollHeight(),o=s!=i?s*(100*s/i)/100-2*e.trim:s-2*e.trim;t.style.setProperty(this.sizeProp,o+"px")}scroll(){const s=this.scrollPos()/this.scrollHeight()*100;t.style.setProperty(this.posProp,s+"%"),this.updateBoundingPos()}updateDisplayState(){switch(this._state){case"auto":this._track.style.display=this.offsetHeight()==this.scrollHeight()?"none":"block";break;case"scroll":this._track.style.display="block";break;default:return this._track.style.display="none",!1}return!0}startDrag(t){this._dragging=!0,this.position=this.pagePos(t),s.classList.add("dragging")}drag(t){if(!this._dragging)return;const s=(this.pagePos(t)-this.position)/this.offsetHeight()*this.scrollHeight();this.scrollTo(s)}endDrag(){this._dragging=!1,s.classList.remove("dragging")}jump(t){if(t.target==this.handle||this.handle.contains(t.target))return;const s=(this.pagePos(t)-this.position)/this.offsetHeight()*this.scrollHeight();this.smoothScrollTo(s)}}class h extends n{constructor(){const t=getComputedStyle(s).overflowY;super(r.v,t),this.posProp="--scroll-top",this.sizeProp="--handle-height"}resize(){super.resize();const s=getComputedStyle(t);this.absHeight=this.track.offsetHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom))/2}scrollTo(t){s.scrollTo(s.scrollLeft,t)}smoothScrollTo(t){s.scrollTo({left:s.scrollLeft,top:t,behavior:"smooth"})}offsetHeight(){return this.absHeight}scrollHeight(){return s.scrollHeight}pagePos(t){return t.pageY}scrollPos(){return s.scrollTop}updateBoundingPos(){const t=this.track.getBoundingClientRect();this.position=t.top+this.handle.offsetHeight/2}}class a extends n{constructor(){const t=getComputedStyle(s).overflowX;super(r.h,t),this.posProp="--scroll-left",this.sizeProp="--handle-width"}resize(){super.resize();const s=getComputedStyle(t);this.absWidth=this.track.offsetWidth-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight))/2}scrollTo(t){s.scrollTo(t,s.scrollTop)}smoothScrollTo(t){s.scrollTo({left:t,top:s.scrollTop,behavior:"smooth"})}offsetHeight(){return this.absWidth}scrollHeight(){return s.scrollWidth}pagePos(t){return t.pageX}scrollPos(){return s.scrollLeft}updateBoundingPos(){const t=this.track.getBoundingClientRect();this.position=t.left+this.handle.offsetWidth/2}}return class{constructor(i,o={}){t=this.notNull(i,"Container"),s=this.notNull(t.querySelector(".scroll-content"),"Scroll Content"),e=Object.assign(Object.assign({},l),o),this.init()}resize(){this.eachBar("resize")}enableVScroll(){null===i&&(i=new h,this.resize())}enableHScroll(){null===o&&(o=new a,this.resize())}notNull(t,s){if(null===t)throw new ReferenceError(s+" cannot be null");return t}init(){s.addEventListener("scroll",this.scroll.bind(this)),window.addEventListener("resize",this.resize.bind(this))}scroll(){this.eachBar("scroll")}eachBar(t){null!==i&&i[t](),null!==o&&o[t]()}}}();
